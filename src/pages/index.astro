---
import { languages, defaultLang } from '../i18n/config';

const acceptLang = Astro.request.headers.get('accept-language') || '';
const matchedLang = Object.keys(languages).find((lang) =>
  acceptLang.toLowerCase().startsWith(lang)
) ?? defaultLang;

Astro.redirect(`/${matchedLang}/`);
---
